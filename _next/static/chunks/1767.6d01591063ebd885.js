"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1767],{31004:function(e,r,t){t.d(r,{BO:function(){return f},dg:function(){return x},h7:function(){return h}});var n=t(57437),s=t(2265),a=t(47625),o=t(8147),l=t(22190),i=t(93448);let d={light:"",dark:".dark"},c=s.createContext(null);function u(){let e=s.useContext(c);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let f=s.forwardRef((e,r)=>{let{id:t,className:o,children:l,config:d,...u}=e,f=s.useId(),h="chart-".concat(t||f.replace(/:/g,""));return(0,n.jsx)(c.Provider,{value:{config:d},children:(0,n.jsxs)("div",{"data-chart":h,ref:r,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",o),...u,children:[(0,n.jsx)(m,{id:h,config:d}),(0,n.jsx)(a.h,{children:l})]})})});f.displayName="Chart";let m=e=>{let{id:r,config:t}=e,s=Object.entries(t).filter(e=>{let[,r]=e;return r.theme||r.color});return s.length?(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(e=>{let[t,n]=e;return"\n".concat(n," [data-chart=").concat(r,"] {\n").concat(s.map(e=>{var r;let[n,s]=e,a=(null===(r=s.theme)||void 0===r?void 0:r[t])||s.color;return a?"  --color-".concat(n,": ").concat(a,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},h=o.u,x=s.forwardRef((e,r)=>{let{active:t,payload:a,className:o,indicator:l="dot",hideLabel:d=!1,hideIndicator:c=!1,label:f,labelFormatter:m,labelClassName:h,formatter:x,color:g,nameKey:b,labelKey:v}=e,{config:w}=u(),j=s.useMemo(()=>{var e;if(d||!(null==a?void 0:a.length))return null;let[r]=a,t="".concat(v||r.dataKey||r.name||"value"),s=p(w,r,t),o=v||"string"!=typeof f?null==s?void 0:s.label:(null===(e=w[f])||void 0===e?void 0:e.label)||f;return m?(0,n.jsx)("div",{className:(0,i.cn)("font-medium",h),children:m(o,a)}):o?(0,n.jsx)("div",{className:(0,i.cn)("font-medium",h),children:o}):null},[f,m,a,d,h,w,v]);if(!t||!(null==a?void 0:a.length))return null;let y=1===a.length&&"dot"!==l;return(0,n.jsxs)("div",{ref:r,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",o),children:[y?null:j,(0,n.jsx)("div",{className:"grid gap-1.5",children:a.map((e,r)=>{let t="".concat(b||e.name||e.dataKey||"value"),s=p(w,e,t),a=g||e.payload.fill||e.color;return(0,n.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===l&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,r,e.payload):(0,n.jsxs)(n.Fragment,{children:[(null==s?void 0:s.icon)?(0,n.jsx)(s.icon,{}):!c&&(0,n.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":y&&"dashed"===l}),style:{"--color-bg":a,"--color-border":a}}),(0,n.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,n.jsxs)("div",{className:"grid gap-1.5",children:[y?j:null,(0,n.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,n.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function p(e,r,t){if("object"!=typeof r||null===r)return;let n="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,s=t;return t in r&&"string"==typeof r[t]?s=r[t]:n&&t in n&&"string"==typeof n[t]&&(s=n[t]),s in e?e[s]:e[t]}x.displayName="ChartTooltip",l.D,s.forwardRef((e,r)=>{let{className:t,hideIcon:s=!1,payload:a,verticalAlign:o="bottom",nameKey:l}=e,{config:d}=u();return(null==a?void 0:a.length)?(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center justify-center gap-4","top"===o?"pb-3":"pt-3",t),children:a.map(e=>{let r="".concat(l||e.dataKey||"value"),t=p(d,e,r);return(0,n.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!s?(0,n.jsx)(t.icon,{}):(0,n.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend"},90641:function(e,r,t){t.d(r,{x:function(){return l}});var n=t(57437),s=t(2265),a=t(43643),o=t(93448);let l=s.forwardRef((e,r)=>{let{className:t,children:s,...l}=e;return(0,n.jsxs)(a.fC,{ref:r,className:(0,o.cn)("relative overflow-hidden",t),...l,children:[(0,n.jsx)(a.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,n.jsx)(i,{}),(0,n.jsx)(a.Ns,{})]})});l.displayName=a.fC.displayName;let i=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...l}=e;return(0,n.jsx)(a.gb,{ref:r,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,n.jsx)(a.q4,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=a.gb.displayName},17168:function(e,r,t){t.d(r,{SP:function(){return d},dr:function(){return i},mQ:function(){return l},nU:function(){return c}});var n=t(57437),s=t(2265),a=t(20271),o=t(93448);let l=a.fC,i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.aV,{ref:r,className:(0,o.cn)("inline-flex h-10 items-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});i.displayName=a.aV.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.xz,{ref:r,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});d.displayName=a.xz.displayName;let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.VY,{ref:r,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});c.displayName=a.VY.displayName},23675:function(e,r,t){t.d(r,{g:function(){return o}});var n=t(57437),s=t(2265),a=t(93448);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});o.displayName="Textarea"},46165:function(e,r,t){t.d(r,{Z:function(){return h}});var n=t(57437),s=t(29501),a=t(13590),o=t(91115),l=t(23340),i=t(12381),d=t(40279),c=t(50935),u=t(51817),f=t(71837);let m=o.Ry({currentPassword:o.Z_().min(1,"Current password is required."),newPassword:o.Z_().min(10,{message:"Password must be at least 10 characters long."}).regex(/[A-Z]/,{message:"Must contain at least one uppercase letter."}).regex(/[a-z]/,{message:"Must contain at least one lowercase letter."}).regex(/[0-9]/,{message:"Must contain at least one number."}).regex(/[^A-Za-z0-9]/,{message:"Must contain at least one special character."}),confirmPassword:o.Z_()}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords do not match.",path:["confirmPassword"]});function h(){let{toast:e}=(0,l.pm)(),r=(0,s.cI)({resolver:(0,a.F)(m),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),{formState:{isSubmitting:t}}=r,o=async t=>{let n=localStorage.getItem("token");if(!n){e({variant:"destructive",title:"Authentication Error",description:"Please log in again."});return}try{let s=await fetch("".concat(f.C,"/api/change-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)}),a=await s.json();s.ok?(e({title:"Success",description:"Your password has been updated successfully."}),r.reset()):e({variant:"destructive",title:"Update Failed",description:a.error||"An unknown error occurred."})}catch(r){e({variant:"destructive",title:"Network Error",description:"Could not update password. Please try again later."})}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Change Password"}),(0,n.jsx)(c.l0,{...r,children:(0,n.jsxs)("form",{onSubmit:r.handleSubmit(o),className:"space-y-4",children:[(0,n.jsx)(c.Wi,{control:r.control,name:"currentPassword",render:e=>{let{field:r}=e;return(0,n.jsxs)(c.xJ,{children:[(0,n.jsx)(c.lX,{children:"Current Password"}),(0,n.jsx)(c.NI,{children:(0,n.jsx)(d.I,{type:"password",...r,disabled:t})}),(0,n.jsx)(c.zG,{})]})}}),(0,n.jsx)(c.Wi,{control:r.control,name:"newPassword",render:e=>{let{field:r}=e;return(0,n.jsxs)(c.xJ,{children:[(0,n.jsx)(c.lX,{children:"New Password"}),(0,n.jsx)(c.NI,{children:(0,n.jsx)(d.I,{type:"password",...r,disabled:t})}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Must be 10+ characters with uppercase, lowercase, number, and special character."}),(0,n.jsx)(c.zG,{})]})}}),(0,n.jsx)(c.Wi,{control:r.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,n.jsxs)(c.xJ,{children:[(0,n.jsx)(c.lX,{children:"Confirm New Password"}),(0,n.jsx)(c.NI,{children:(0,n.jsx)(d.I,{type:"password",...r,disabled:t})}),(0,n.jsx)(c.zG,{})]})}}),(0,n.jsxs)(i.z,{type:"submit",disabled:t||!r.formState.isDirty,children:[t&&(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]})})]})}}}]);